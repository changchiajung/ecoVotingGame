{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    報酬分佈投票 ({{round_number}}/24)

{% endblock %}

{% block content %}
<style>
    html{
        visibility: hidden;
    }
</style>
<link rel="stylesheet" href="{% static 'otree/css/theme.css' %}">
<link rel="stylesheet" href="{% static 'chart.css' %}">
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.8.0/dist/chart.min.js" integrity="sha256-cHVO4dqZfamRhWD7s4iXyaXWVK10odD+qp4xidFzqTI=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0-rc"></script>
<script src="{% static 'init.js' %}"></script>
投票進度
<div class="progress">
    <div class="progress-bar" id="progressbar" role="progressbar" style="width: 0;" aria-valuenow="0" aria-valuemin="0"
         aria-valuemax="100">0
    </div>
</div>

您的得分: {{ score }}, 您在組別中的排名: {{ rank }}
<br>
現在有兩種分配報酬的方法「原方案」與「新方案」，原方案為”根據原先排名所分配的報酬“」，新方案則提供一種新的報酬分配方式，請大家投票決定，要維持原方案，還是更改為新方案。
<br>
畫面中，每一條柱狀代表一個人，淺紅色為您的位置，淺藍色為其他組員。
<br>
您的選擇<div id="introduction_trigger"></div>
<br>
<label id="id_choose_0_label" for="id_choose_0"><input type="radio" name="choose" value="左邊" required="" id="id_choose_0" class="form-check-input">
 原方案</label>
<label id="id_choose_1_label" for="id_choose_1"><input type="radio" name="choose" value="右邊" required="" id="id_choose_1" class="form-check-input">
 新方案</label>
<br>
<br>
<button class="otree-btn-next btn btn-primary" id="next_button">下一步</button>
<div id="chart_area">
    <div id="leftChart_area">
        <canvas id="leftChart" ></canvas>
    </div>
    <div id="rightChart_area">
        <canvas id="rightChart" ></canvas>
    </div>
</div>
<div id="score_information" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="score_title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p id="score_description">Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="closeModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<script>
    origin_division = "{{ origin_division }}".split(", ")
    test = "{{ origin_division }}".split(",")
    alternative_division = "{{ alternative_division }}".split(", ")
    rank = {{ rank }}
    function setProgress(progressVal, progressText) {
        $("#progressbar").css({"width": progressVal + "%"})
        $("#progressbar").html(progressText)
        $("#progressbar").attr("aria-valuenow", progressVal)
    }
    setProgress({{round_number_progress}}, {{round_number}}+"/24")
</script>
<script src="{% static 'chart.js' %}"></script>
<script src="{% static 'votingIntroduction.js' %}"></script>
<script>
    $(".debug-info").remove();
</script>
{% endblock %}
